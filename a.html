
<!-- Anime Image input -->
<section class="section" id="anime-image-input">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h1 class="title is-2">Anime Image Input Results</h1>
          <p class="content has-text-justified">
            Below are examples where an anime-style image input is transformed into corresponding animated videos:
          </p>
        </div>
      </div>
  
      <!-- 左侧按钮 -->
      <button class="carousel-button left" onclick="carouselScrollLeft()">&#9664;</button>
  
      <div class="carousel-container">
        <div class="carousel" id="carousel">
          <!-- JavaScript will dynamically insert video-image pairs here -->
        </div>
      </div>
  
      <!-- 右侧按钮 -->
      <button class="carousel-button right" onclick="carouselScrollRight()">&#9654;</button>
    </div>
  </section>
  
  <style>
    /* 外层容器样式 */
    .carousel-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  
    /* 内部滑动容器 */
    .carousel {
      display: flex;
      transition: transform 0.5s ease;
    }
  
    /* 单个视频项 */
    .video-item {
      flex: 0 0 300px;
      margin-right: 20px;
      text-align: center;
    }
  
    /* 图片和视频对齐 */
    .video-item img,
    .video-item video {
      width: 100%;
      height: auto;
      border-radius: 5px;
    }
  
    /* 左右箭头按钮 */
    .carousel-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2rem;
      color: #333;
      background: rgba(255, 255, 255, 0.7);
      border: none;
      cursor: pointer;
      z-index: 10;
    }
    .carousel-button.left {
      left: -30px;
    }
    .carousel-button.right {
      right: -30px;
    }
  
  </style>
  
  <script>
    let TposeAnime_currentIndex = 0;
    let TposeAnime_itemWidth;
    let TposeAnime_totalExamples = 16; // Total image-video pairs
    let TposeAnime_visibleItems;
  
    document.addEventListener('DOMContentLoaded', function () {
      const container = document.querySelector("#anime-image-input .carousel");
  
      for (let i = 1; i <= TposeAnime_totalExamples; i++) {
        const videoItem = document.createElement('div');
        videoItem.classList.add('video-item');
  
        const figure = document.createElement("figure");
        figure.classList.add("image");
  
        const img = document.createElement("img");
        img.src = `./static/images/Tpose_anime_inputs/${i}.png`;
        img.alt = `Input Image ${i}`;
  
        figure.appendChild(img);
  
        const video = document.createElement("video");
        video.loop = true;
        video.autoplay = true;
        video.muted = true;
        video.playsInline = true;
  
        const source = document.createElement("source");
        source.src = `./static/images/Tpose_anime_inputs/${i}.mp4`;
        source.type = "video/mp4";
  
        video.appendChild(source);
  
        videoItem.appendChild(figure);
        videoItem.appendChild(video);
  
        container.appendChild(videoItem);
      }
  
      // Update TposeAnime_itemWidth and TposeAnime_visibleItems after the items are loaded
      const carouselContainer = document.querySelector('.carousel-container');
      const containerWidth = carouselContainer.offsetWidth;
      TposeAnime_itemWidth = document.querySelector('.video-item').offsetWidth;
      TposeAnime_visibleItems = Math.floor(containerWidth / TposeAnime_itemWidth);
  
      // Automatically scroll every 5 seconds
      setInterval(() => {
        carouselScrollRight();
      }, 5000);
    });
  
    // Scroll to the left
    function carouselScrollLeft() {
      const maxIndex = TposeAnime_totalExamples - TposeAnime_visibleItems;
      TposeAnime_currentIndex = (TposeAnime_currentIndex - 1 + maxIndex + 1) % (maxIndex + 1);
      updateCarouselPosition();
    }
  
    // Scroll to the right
    function carouselScrollRight() {
      const maxIndex = TposeAnime_totalExamples - TposeAnime_visibleItems;
      TposeAnime_currentIndex = (TposeAnime_currentIndex + 1) % (maxIndex + 1);
      updateCarouselPosition();
    }
  
    // Update the carousel position based on the current index
    function updateCarouselPosition() {
      const carousel = document.getElementById('carousel');
      const offset = -TposeAnime_currentIndex * (TposeAnime_itemWidth + 20); // Include margin-right for spacing
      carousel.style.transform = `translateX(${offset}px)`;
    }
  
    // Recalculate visible items on window resize
    window.addEventListener('resize', () => {
      const carouselContainer = document.querySelector('.carousel-container');
      const containerWidth = carouselContainer.offsetWidth;
      TposeAnime_itemWidth = document.querySelector('.video-item').offsetWidth;
      TposeAnime_visibleItems = Math.floor(containerWidth / TposeAnime_itemWidth);
  
      // Update position to prevent gaps
      updateCarouselPosition();
    });
  </script>
  
 s  